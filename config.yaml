# Smart Downloads Organizer - Configuration
# Edit this file to customize behavior

# Destination directories
directories:
  downloads: ~/Downloads
  documents: ~/Documents
  icloud: ~/Library/Mobile Documents/com~apple~CloudDocs
  archive: ~/Documents/_Archive

  # Categories (subfolders of Documents)
  images: ~/Documents/Images
  pdfs: ~/Documents/PDFs
  code: ~/Documents/Code
  videos: ~/Documents/Videos
  audio: ~/Documents/Audio
  installers: ~/Documents/Installers

# Automatic rules (applied BEFORE AI analysis)
# These rules speed up processing for obvious cases
auto_rules:
  # Files that always go to trash
  trash:
    extensions: [".tmp", ".part", ".crdownload", ".download", ".incomplete"]
    patterns: ["*.tmp.*", "~*", "._*"]

  # Files that always go to specific categories
  images:
    extensions: [".jpg", ".jpeg", ".png", ".gif", ".webp", ".heic", ".svg", ".ico"]

  pdfs:
    extensions: [".pdf"]

  code:
    extensions: [".py", ".js", ".ts", ".go", ".rs", ".java", ".cpp", ".c", ".h", ".sh", ".bash", ".zsh"]
    patterns: ["*.tar.gz", "*.zip"] # Only if contains "project", "code", "src" in name

  videos:
    extensions: [".mp4", ".mov", ".avi", ".mkv", ".webm", ".m4v"]

  audio:
    extensions: [".mp3", ".m4a", ".wav", ".flac", ".aac", ".ogg"]

  installers:
    extensions: [".dmg", ".pkg", ".app", ".exe", ".msi"]

# Rules based on file age (in days)
age_rules:
  # Old installers go to trash
  - condition: "extension in ['.dmg', '.pkg'] and age > 14"
    action: trash
    reason: "Old installer, probably already used"

  # Very old screenshots go to archive
  - condition: "name starts with 'Screenshot' and age > 30"
    action: archive
    reason: "Old screenshot"

  # Very old files in Downloads should be moved
  - condition: "age > 60"
    action: archive
    reason: "Very old file in Downloads"

# Claude Code settings
claude:
  # Maximum wait time for analysis (seconds)
  timeout: 30

  # If analysis fails, what action to take?
  fallback_action: keep

  # Minimum confidence level to move automatically
  # (0.0 to 1.0 - below this, keep in Downloads)
  min_confidence: 0.7

# Notifications (requires terminal-notifier or osascript)
notifications:
  enabled: true
  on_complete: true
  on_error: true

# Logging
logging:
  file: ~/.downloads-organizer/organize.log
  level: info  # debug, info, warn, error
  max_size_mb: 10
  rotate_count: 5

# Exclusions - files that will never be moved
exclusions:
  # Specific file names
  files:
    - ".DS_Store"
    - ".localized"
    - "desktop.ini"

  # Glob patterns
  patterns:
    - ".*"  # Hidden files
    - "*.downloading"

  # Files smaller than X bytes (probably markers)
  min_size_bytes: 100

# Safe mode - if true, asks for confirmation before deleting
safe_mode: true

# Backup before moving
backup:
  enabled: false
  directory: ~/.downloads-organizer/backups
  retention_days: 7
